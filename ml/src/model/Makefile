export PYTHONPATH:=$(PYTHONPATH):$(MODEL_SRC_DIR)

MLP_SRC_DIR = $(MODEL_SRC_DIR)/MLP

include $(MLP_SRC_DIR)/Makefile
EVALUATION = $(EVALUATION_OUTPUT_DIR)/$(MODEL_NAME)_metrics.csv

$(MODEL): $(MODEL_SRC_DIR)/train_keras_model.py \
		$(MODEL_MODULE) \
		$(PREPROCESSED_TRAINING_ARGUMENTS) \
		$(PREPROCESSED_VALIDATION_ARGUMENTS) \
		$(DICTIONARY) $(TFIDF)
	$(PYTHON) $^ $@
	@echo

$(EVALUATION): $(MODEL_SRC_DIR)/evaluate_keras_model.py \
		$(MODEL_MODULE) \
		$(MODEL) \
		$(PREPROCESSED_TRAINING_ARGUMENTS) \
		$(PREPROCESSED_VALIDATION_ARGUMENTS) \
		$(DICTIONARY) $(TFIDF)
	$(PYTHON) $^ $@
